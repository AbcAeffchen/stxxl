<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>&lt;stxxl&gt;:  Templatestxxl::prefetch_pool&lt; BlockType &gt; class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>stxxl::prefetch_pool&lt; BlockType &gt; Class Template Reference<br>
<small>
[<a class="el" href="group__schedlayer.html">Block scheduling sublayer</a>]</small>
</h1>Implements dynamically resizable prefetching pool.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="prefetch__pool_8h-source.html">prefetch_pool.h</a>&gt;</code>
<p>
Inheritance diagram for stxxl::prefetch_pool&lt; BlockType &gt;:<p><center><img src="classstxxl_1_1prefetch__pool__inherit__graph.png" border="0" usemap="#stxxl_1_1prefetch__pool_3_01BlockType_01_4__inherit__map" alt="Inheritance graph"></center>
<map name="stxxl_1_1prefetch__pool_3_01BlockType_01_4__inherit__map">
<area href="classstxxl_1_1prefetch__pool.html" shape="rect" coords="14,97,214,115" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classstxxl_1_1prefetch__pool-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstxxl_1_1prefetch__pool.html#a0">prefetch_pool</a> (unsigned init_size=1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs pool. </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstxxl_1_1prefetch__pool.html#a1">~prefetch_pool</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Waits for completion of all ongoing read requests and frees memory. </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstxxl_1_1prefetch__pool.html#a2">size</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns number of owned blocks. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstxxl_1_1prefetch__pool.html#a3">hint</a> (bid_type bid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gives a hint for prefetching a block. </em> <a href="#a3"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classstxxl_1_1request__ptr.html">request_ptr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstxxl_1_1prefetch__pool.html#a6">read</a> (block_type *&amp;block, bid_type bid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads block. If this block is cached block is not read but passed from the cache. </em> <a href="#a6"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstxxl_1_1prefetch__pool.html#a7">resize</a> (unsigned new_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resizes size of the pool. </em> <a href="#a7"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class BlockType&gt;<br>
 class stxxl::prefetch_pool&lt; BlockType &gt;</h3>

Implements dynamically resizable prefetching pool. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="stxxl::prefetch_pool::prefetch_pool" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class BlockType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classstxxl_1_1prefetch__pool.html">stxxl::prefetch_pool</a>&lt; BlockType &gt;::<a class="el" href="classstxxl_1_1prefetch__pool.html">prefetch_pool</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>init_size</em> = 1          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, explicit]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructs pool. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>init_size</em>&nbsp;</td><td>initial number of blocks in the pool </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="stxxl::prefetch_pool::~prefetch_pool" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class BlockType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="classstxxl_1_1prefetch__pool.html">stxxl::prefetch_pool</a>&lt; BlockType &gt;::~<a class="el" href="classstxxl_1_1prefetch__pool.html">prefetch_pool</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Waits for completion of all ongoing read requests and frees memory. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a3" doxytag="stxxl::prefetch_pool::hint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class BlockType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> bool <a class="el" href="classstxxl_1_1prefetch__pool.html">stxxl::prefetch_pool</a>&lt; BlockType &gt;::hint </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bid_type&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>bid</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gives a hint for prefetching a block. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>bid</em>&nbsp;</td><td>address of a block to be prefetched </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>true</code> if there was a free block to do prefetch and prefetching was scheduled, <code>false</code> otherwise </dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>If there are no free blocks available (all blocks are already in reading or read but not retrieved by user calling <code>read</code> method) calling <code>hint</code> function has no effect </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="stxxl::prefetch_pool::read" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class BlockType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classstxxl_1_1request__ptr.html">request_ptr</a> <a class="el" href="classstxxl_1_1prefetch__pool.html">stxxl::prefetch_pool</a>&lt; BlockType &gt;::read </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">block_type *&amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>block</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bid_type&nbsp;</td>
          <td class="mdname" nowrap> <em>bid</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads block. If this block is cached block is not read but passed from the cache. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>block</em>&nbsp;</td><td>block object, where data to be read to. If block was cached <code>block</code> 's ownership goes to the pool and block from cache is returned in <code>block</code> value. </td></tr>
    <tr><td valign=top><em>bid</em>&nbsp;</td><td>address of the block </td></tr>
  </table>
</dl>
<dl compact><dt><b>Warning:</b></dt><dd><code>block</code> parameter must be allocated dynamically using <code>new</code> . </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>request pointer object of read operation </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="stxxl::prefetch_pool::resize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class BlockType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> unsigned <a class="el" href="classstxxl_1_1prefetch__pool.html">stxxl::prefetch_pool</a>&lt; BlockType &gt;::resize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>new_size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resizes size of the pool. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>new_size</em>&nbsp;</td><td>desired size of the pool. If some blocks are used for prefetching, these blocks can't be freed. Only free blocks (not in prefetching) can be freed by reducing the size of the pool calling this method. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>new size of the pool </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="stxxl::prefetch_pool::size" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class BlockType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> unsigned <a class="el" href="classstxxl_1_1prefetch__pool.html">stxxl::prefetch_pool</a>&lt; BlockType &gt;::size </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns number of owned blocks. 
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="prefetch__pool_8h-source.html">prefetch_pool.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Nov 26 10:57:00 2003 for <stxxl> by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>

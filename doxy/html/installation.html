<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Installation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1><a name="installation">Installation</a>
</h1><h2><a name="download"></a>
Download</h2>
<ul>
<li>Download gzipped tar ball from <a href="http://www.mpi-sb.mpg.de/~rdementi/files/stxxl.tgz">here</a>.</li><li>Unpack in some directory executing: <code>tar</code> <code>zfxv</code> <code>stxxl.tgz</code> ,</li><li>Change to <code>stxxl</code> directory: <code>cd</code> <code>stxxl</code> ,</li><li>Change file <code>compiler.make</code> according to your system configuration<ul>
<li>name of your make program</li><li>name of your compiler</li><li><code>&lt;stxxl&gt;</code> root directory ( <code>directory_where_you_unpacked_the_tar_ball/stxxl</code> )</li></ul>
</li><li>Run: <code>make</code> <code>lib</code> Run: <code>make</code> <code>tests</code> (optional, if you want to run some test programs)</li></ul>

<p>
In your makefiles of programs that will use <code>&lt;stxxl&gt;</code> you should include the file <code>compiler.make</code> file (add the line 'include ../compiler.make') because it contains a useful variable (STXXL_VARS) that includes all compiler definitions and library paths that you need to compile an <code>&lt;stxxl&gt;</code> program.
<p>
Before you try to run one of the <code>&lt;stxxl&gt;</code> examples (or your <code>&lt;stxxl&gt;</code> program) you must configure the disk space that will be used as external memory for the library. See next section.<h2><a name="space"></a>
Disk space</h2>
To get best performance with <code>&lt;stxxl&gt;</code> you should assign separate disks to it. These disks should be used by the library only. Since <code>&lt;stxxl&gt;</code> is developed to exploit disk parallelism, the performance of your external memory application will increase if you use more than one disk. But from how many disks your application can benefit depends on how "I/O bound" it is. With modern disk bandwidths about of 40-60 MB/s most of applications are I/O bound for one disk. This means that if you add another disk the running time will be halved. Adding more disks might also increase performance significantly.<h2><a name="filesystem"></a>
Recommended file system</h2>
Our library take benefit of direct user memory - disk transfers (direct access) which avoids superfluous copies. This method has some disadvantages when accessing files on <code>ext2</code> partitions. Namely one requires one byte of internal memory per each accessed kilobyte of file space. For external memory applications with large inputs this could be not proper. Therefore we recommend to use the <code>xfs</code> file system <a href="http://oss.sgi.com/projects/xfs/">link</a> which does not have this overhead but gives the same read and write performance. Note that file creation speed of <code>xfs</code> is slow, so that disk files must be precreated.<h2><a name="configuration"></a>
Disk configuration file</h2>
You must define the disk configuration for an <code>&lt;stxxl&gt;</code> program in a file named <code>'.stxxl'</code> that must reside in the same directory where you execute the program. You can change the default file name for the configuration file by setting the enviroment variable <code>STXXLCFG</code> .
<p>
Each line of the configuration file describes a disk. A disk description uses the following format:<br>
 <code>disk=full_disk_filename,capacity,access_method</code> 
<p>
Description of the parameters:<ul>
<li><code>full_disk_filename</code> : full disk filename. In order to access disks &lt;stxxl&gt; uses file access methods. Each disk is respresented as a file. If you have a disk that is mapped in unix to the path /mnt/disk0/, then the correct value for the <code>full_disk_filename</code> would be <code>/mnt/disk0/some_file_name</code> ,</li><li><code>capacity</code> : maximum capacity of the disk in megabytes</li><li><code>access_method</code> : <code>&lt;stxxl&gt;</code> has a number of different file access implementations, choose one of them:<ul>
<li><code>syscall</code> uses <code>read</code> and <code>write</code> system calls which perform disk transfers directly on user memory pages without superfluous copy (currently the fastest method)</li><li><code>mmap</code> : performs disks transfers using <code>mmap</code> and <code>munmap</code> system calls</li><li><code>simdisk</code> : simulates timings of the IBM IC35L080AVVA07 disk, full_disk_filename must point to a file on a RAM disk partition with sufficient space</li></ul>
</li></ul>

<p>
See also example configuration file <code>'stxxl/config_example'</code> included into the tarball.<h2><a name="excreation"></a>
Formatting external memory files</h2>
In order to get the maximum performance one should format disk files described in the configuration file, before running <code>&lt;stxxl&gt;</code> applications.
<p>
The format utility is included into a set of <code>&lt;stxxl&gt;</code> utilities ( <code>utils/createdisks</code> ). Run this utility for each disk described in your disk configuration file.<hr><address style="align: right;"><small>Generated on Tue Jul 1 11:08:36 2003 for &lt;stxxl&gt; by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc1 </small></address>
</body>
</html>
